<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Calendario mensual</title>

    <style>
        body { font-family: Arial; padding: 20px; }
        input { padding: 5px; font-size: 16px; }
        button { padding: 6px 12px; font-size: 16px; margin-left: 10px; }
    </style>

    <script>

        const festivosPorMes = {
            1: [1, 6],
            2: [],
            3: [],
            4: [],
            5: [1],
            6: [],
            7: [],
            8: [15,16,28],
            9: [],
            10: [12],
            11: [1],
            12: [25]
        };

        const nombresMeses = [
            'enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio',
            'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'
        ];

        function generarCalendario(mes, año = new Date().getFullYear()) {
            const nombresMesesCapital = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
                                 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];

            const diasSemana = ['Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb', 'Dom'];

            let tabla = `<h2>${nombresMesesCapital[mes - 1]} ${año}</h2>`;
            tabla += "<table border='1' style='text-align:center; width:100%; border-collapse:collapse;'>";

            tabla += "<tr>";
            for (let dia of diasSemana) {
                tabla += `<th style='padding:10px; background-color:#ddd;'>${dia}</th>`;
            }
            tabla += "</tr>";

            let primerDia = new Date(año, mes - 1, 1).getDay();
            primerDia = (primerDia === 0) ? 6 : primerDia - 1;

            let ultimoDia = new Date(año, mes, 0).getDate();
            let festivos = festivosPorMes[mes] || [];

            let dia = 1;

            while (dia <= ultimoDia) {
                tabla += "<tr>";

                for (let i = 0; i < 7; i++) {
                    if (dia === 1 && i < primerDia) {
                        tabla += "<td></td>";
                    } else if (dia <= ultimoDia) {

                        let esFestivo = festivos.includes(dia);
                        let esFinSemana = (i === 5 || i === 6);

                        let estilo = esFestivo ? 'background-color:#ff9999; font-weight:bold;' :
                                    esFinSemana ? 'background-color:#f0f0f0;' : '';

                        tabla += `<td style='padding:10px; ${estilo}'>${dia}</td>`;
                        dia++;
                    } else {
                        tabla += "<td></td>";
                    }
                }

                tabla += "</tr>";
            }

            tabla += "</table>";
            return tabla;
        }

        function cargarCalendario() {
            const entrada = document.getElementById("campoMes").value.trim().toLowerCase();
            const año = new Date().getFullYear();

            let mes = null;

            // Si es número
            if (!isNaN(entrada)) {
                mes = parseInt(entrada);
                if (mes < 1 || mes > 12) {
                    alert("El número no corresponde a ningún mes (1-12)");
                    return;
                }
            } 
            // Si es nombre
            else {
                mes = nombresMeses.indexOf(entrada) + 1;
                if (mes === 0) {
                    alert("El nombre del mes no es válido");
                    return;
                }
            }

            document.getElementById("contenedor").innerHTML = generarCalendario(mes, año);
        }

    </script>
</head>

<body>

    <label><strong>Introduce un mes (nombre o número):</strong></label><br><br>

    <input type="text" id="campoMes" placeholder="Ej: marzo o 3">
    <button onclick="cargarCalendario()">Mostrar</button>

    <div id="contenedor"></div>

</body>
</html>
